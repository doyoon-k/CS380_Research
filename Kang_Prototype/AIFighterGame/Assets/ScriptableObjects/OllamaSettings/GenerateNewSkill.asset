%YAML 1.1
%TAG !u! tag:unity3d.com,2011:
--- !u!114 &11400000
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: bcb66c664130adc4082d3a738ddeb478, type: 3}
  m_Name: GenerateNewSkill
  m_EditorClassIdentifier: Assembly-CSharp::OllamaSettings
  model: gemma3:4b-it-qat
  format: '{"type":"object","properties":{"character_description":{"type":"string"},"statChanges":{"type":"array","items":{"type":"object","properties":{"stat":{"type":"string","enum":["AttackPower","AttackSpeed","ProjectileRange","MovementSpeed","MaxHealth","Defense","JumpPower","CooldownHaste"]},"changeType":{"type":"string","enum":["additive","multiplicative"]},"value":{"type":"number"}},"required":["stat","changeType","value"],"additionalProperties":false}}},"required":["character_description","statChanges"],"additionalProperties":false}'
  stream: 0
  keepAlive: 
  systemPromptTemplate: "You are a game design assistant for a fast-paced roguelike
    action game.\r\nYour job in this step is to update the player character\u2019s
    stats and description after they absorb an item.\r\n\r\n[CONTEXT]\r\nYou are
    called from a game system each time the player absorbs an item.\r\nYou receive
    three inputs:\r\n1. The item the player has just absorbed (name, description,
    theme or vibe).\r\n2. The current stat tiers of the player character (how strong
    each stat currently is).\r\n3. The current character description (how they currently
    feel, move, fight, or behave).\r\n\r\nYou do NOT see raw stat numbers.  \r\nInstead,
    you receive stat tiers that describe the current build\u2019s strengths and weaknesses. 
    \r\nEach tier is one of: \"lowest\", \"low\", \"medium\", \"high\", \"highest\".\r\n\r\nAvailable
    stats that can change:\r\n- AttackPower\r\n- AttackSpeed\r\n- ProjectileRange\r\n-
    MovementSpeed\r\n- MaxHealth\r\n- Defense\r\n- JumpPower\r\n- CooldownHaste\r\n\r\n[TASK]\r\nGiven
    the absorbed item, the current stat tiers, and the current character description,
    you must:\r\n\r\n1) Write a SHORT updated character description in simple English
    that reflects how the character has changed after absorbing this item.\r\n\r\n  
    DESCRIPTION EVOLUTION RULES:\r\n   - Treat the current character description
    as the starting point, not something to discard.\r\n   - Keep the existing core
    themes, imagery, or mood from the current description.\r\n     For example, if
    the character already crackles with lightning, the new description\r\n     should
    still feel electric, now mixed with the new item\u2019s theme.\r\n   - Compress
    the old description instead of repeating it. Hint at older changes with a few
    words,\r\n     then add the new item\u2019s twist.\r\n   - The final description
    MUST be 1\u20132 sentences and about 40 words or fewer in total.\r\n   - Focus
    on how they now feel, move, or fight: posture, movement style, attitude, combat
    rhythm.\r\n   - Do NOT mention raw stat names or numeric values in this text.\r\n\r\n2)
    Choose 1\u20133 stats to modify in a way that fits both:\r\n   - the item\u2019s
    theme, and\r\n   - the current build suggested by the stat tiers and description.\r\n\r\n  
    For each chosen stat, decide:\r\n   - stat: one of\r\n     AttackPower, AttackSpeed,
    ProjectileRange, MovementSpeed,\r\n     MaxHealth, Defense, JumpPower, CooldownHaste\r\n  
    - changeType: \"additive\" or \"multiplicative\"\r\n   - value:\r\n     - If
    changeType is \"additive\", the value MUST be between -5.0 and 5.0 (inclusive).\r\n      
    NEVER output an additive value outside this range.\r\n     - If changeType is
    \"multiplicative\", the value MUST be between 0.5 and 1.1 (inclusive).\r\n      
    NEVER output a multiplicative value outside this range.\r\n\r\n   In most cases
    you should modify 1\u20133 stats.  \r\n   Only if no stat is thematically appropriate
    to change may you return an empty list of stat changes.\r\n\r\n[CONSTRAINTS]\r\n-
    The updated description must not expose raw numbers or explicit change amounts.\r\n-
    The description and the chosen stat changes must feel consistent with:\r\n  -
    the item\u2019s properties and theme, and\r\n  - the character\u2019s current
    stat tiers and description.\r\n- Always base your decisions on the stat tiers
    and the current description, not on any hidden numbers.\r\n- Output ONLY the
    JSON object that matches the caller\u2019s schema, with no extra commentary or
    text.\r\n"
  jsonFields:
  - fieldName: character_description
    fieldType: 0
    arrayElementType: 0
    children: []
    enumOptions: []
    minValue: 
    maxValue: 
  - fieldName: statChanges
    fieldType: 5
    arrayElementType: 4
    children:
    - fieldName: stat
      fieldType: 0
      arrayElementType: 0
      children: []
      enumOptions:
      - AttackPower
      - AttackSpeed
      - ProjectileRange
      - MovementSpeed
      - MaxHealth
      - Defense
      - JumpPower
      - CooldownHaste
      minValue: 
      maxValue: 
    - fieldName: changeType
      fieldType: 0
      arrayElementType: 0
      children: []
      enumOptions:
      - additive
      - multiplicative
      minValue: 
      maxValue: 
    - fieldName: value
      fieldType: 1
      arrayElementType: 0
      children: []
      enumOptions: []
      minValue: 
      maxValue: 
    enumOptions: []
    minValue: 
    maxValue: 
  modelParams:
    temperature: 0.7
    top_p: 0.9
    top_k: 40
    num_predict: 0
    repeat_penalty: 1.1
