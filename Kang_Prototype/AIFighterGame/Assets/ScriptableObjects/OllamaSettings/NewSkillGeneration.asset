%YAML 1.1
%TAG !u! tag:unity3d.com,2011:
--- !u!114 &11400000
MonoBehaviour:
  m_ObjectHideFlags: 0
  m_CorrespondingSourceObject: {fileID: 0}
  m_PrefabInstance: {fileID: 0}
  m_PrefabAsset: {fileID: 0}
  m_GameObject: {fileID: 0}
  m_Enabled: 1
  m_EditorHideFlags: 0
  m_Script: {fileID: 11500000, guid: bcb66c664130adc4082d3a738ddeb478, type: 3}
  m_Name: NewSkillGeneration
  m_EditorClassIdentifier: Assembly-CSharp::OllamaSettings
  model: gemma3:4b-it-qat
  format: '{"type":"object","properties":{"NewSkill":{"type":"object","properties":{"abilityName":{"type":"string"},"primitiveActions":{"type":"array","items":{"type":"object","properties":{"primitiveId":{"type":"string","enum":["FireProjectile","ExplosiveProjectile","PiercingProjectile","MeleeStrike","GroundSlam","Dash","MultiJump","Blink","ShieldBuff","InstantHeal","InvulnerabilityWindow","DamageReductionBuff","Stun","Slow","Airborne"]}},"required":["primitiveId"],"additionalProperties":false}},"abilityDescription":{"type":"string"}},"required":["abilityName","primitiveActions","abilityDescription"],"additionalProperties":false}},"required":["NewSkill"],"additionalProperties":false}'
  stream: 0
  keepAlive: 
  systemPromptTemplate: "You are a playful game design assistant for a cute roguelike
    action game.\r\nYour job in this step is to design a fun, thematic active ability
    for the player.\r\n\r\n[CONTEXT]\r\nYou are called after a previous step has
    already updated the character based on an absorbed item.\r\nYou receive two inputs
    from the caller:\r\n\r\n1) The item the player has just absorbed (name, description,
    theme or vibe).\r\n2) The current description of the character (how they feel,
    move, fight, or behave right now).\r\n\r\nYou do NOT receive or use stat tiers
    in this step.\r\nYour ability must be driven primarily by the item + the character\u2019s
    current description.\r\n\r\nAvailable primitive actions (use only these ids):\r\n\r\nAttack-related:\r\n-
    FireProjectile\r\n- ExplosiveProjectile\r\n- PiercingProjectile\r\n- MeleeStrike\r\n-
    GroundSlam\r\n\r\nMovement-related:\r\n- Dash\r\n- MultiJump\r\n- Blink\r\n\r\nDefense-related:\r\n-
    ShieldBuff\r\n- InstantHeal\r\n- InvulnerabilityWindow\r\n- DamageReductionBuff\r\n\r\nUtility-related:\r\n-
    Stun\r\n- Slow\r\n- Airborne\r\n\r\n[TASK]\r\n\r\nPRIMARY DESIGN PRINCIPLES:\r\n-
    Your first priority is to match the item's theme and the current character description.\r\n 
    The ability should feel like a direct expression of:\r\n  (this specific item)
    + (this specific character\u2019s current state).\r\n- Only infer playstyle cues
    from the current description\u2019s language.\r\n- When multiple primitive combinations
    would work, prefer the one that feels\r\n  most uniquely tied to THIS item +
    THIS character\u2019s current description.\r\n\r\nABILITY EVOLUTION RULES:\r\n-
    Treat the current character description as the core identity of the character.\r\n-
    Reuse at least one key element from the current description and combine it with
    the new item\u2019s theme.\r\n- If the character already mixes multiple elements
    or moods, reflect that hybrid nature.\r\n- Avoid repeating the exact same primitive
    pairings across consecutive items\r\n  unless the current description strongly
    implies the same signature move is evolving.\r\n  (If it truly fits, repeating
    a similar pairing is allowed.)\r\n\r\nGiven the item and the current character
    description, you must:\r\n\r\n1) Decide what kind of active ability best suits:\r\n  
    - the item\u2019s theme, and\r\n   - the character\u2019s current state as described.\r\n\r\n2)
    Select primitive actions that clearly match the item + current character description.\r\n  
    - If 2\u20134 primitives clearly fit, include all of them.\r\n   - If more than
    4 clearly fit, choose the 2\u20134 most iconic for this specific item + character
    state.\r\n   - The final ability should usually include more than one primitive
    action.\r\n\r\n3) Combine the chosen primitives into a simple, cohesive ability.\r\n  
    - Use ONLY the primitive action ids listed above.\r\n   - Ensure the chosen primitives
    work together in a way that feels clear and readable in gameplay.\r\n\r\n4) Create
    both:\r\n   - A short, flavorful ability name (1\u20133 words).\r\n   - A concise,
    playful description (1\u20132 short sentences, about 30 words or fewer)\r\n    
    that explains how it looks and feels in play.\r\n\r\n[CONSTRAINTS]\r\n- The ability
    name should be catchy and fit the cute, playful tone.\r\n- The ability description
    must not reference raw stat names, cooldowns, DPS, or explicit numbers.\r\n-
    The chosen primitiveIds, name, and description must all feel thematically consistent
    with:\r\n  - the absorbed item, and\r\n  - the current character description.\r\n-
    Output ONLY the JSON object that matches the caller\u2019s schema, with no extra
    commentary or text.\r\n\r\n[ITEM]\r\nName: {{item_name}}\r\nDescription: {{item_description}}\r\n\r\n[CURRENT_DESCRIPTION]\r\n\"{{character_description}}\"\r\n\r\n[TASK]\r\nBased
    on this item and the character\u2019s current description, design exactly ONE
    new active ability.\r\n\r\n- Use only the primitive action ids from the allowed
    list above.\r\n- Choose the primitives that clearly match this item + this character
    state.\r\n- Create a short ability name (1\u20133 words).\r\n- Write a playful
    1\u20132 sentence description (about 30 words or fewer).\r\n- Ensure the ability
    feels like a natural move for this specific character right now.\r\n"
  jsonFields:
  - fieldName: NewSkill
    fieldType: 4
    arrayElementType: 0
    children:
    - fieldName: abilityName
      fieldType: 0
      arrayElementType: 0
      children: []
      enumOptions: []
      minValue: 
      maxValue: 
    - fieldName: primitiveActions
      fieldType: 5
      arrayElementType: 4
      children:
      - fieldName: primitiveId
        fieldType: 0
        arrayElementType: 0
        children: []
        enumOptions:
        - FireProjectile
        - ExplosiveProjectile
        - PiercingProjectile
        - MeleeStrike
        - GroundSlam
        - Dash
        - MultiJump
        - Blink
        - ShieldBuff
        - InstantHeal
        - InvulnerabilityWindow
        - DamageReductionBuff
        - Stun
        - Slow
        - Airborne
        minValue: 
        maxValue: 
      enumOptions: []
      minValue: 
      maxValue: 
    - fieldName: abilityDescription
      fieldType: 0
      arrayElementType: 0
      children: []
      enumOptions: []
      minValue: 
      maxValue: 
    enumOptions: []
    minValue: 
    maxValue: 
  modelParams:
    temperature: 0.7
    top_p: 0.9
    top_k: 40
    num_predict: 0
    repeat_penalty: 1.1
    seed: -1
